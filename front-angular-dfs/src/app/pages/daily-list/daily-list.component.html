<div class="container">
  <div class="row">
    <div class="col text-center pt-2">
      <h1>Ma liste journalière</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-6 mt-4" *ngFor="let list of dailyList">
      <mat-card>
        <mat-card-header>
          <mat-card-title-group>
            <mat-card-title>{{ list.type }}</mat-card-title>
            <img mat-card-xl-image *ngIf="list.picture" src="http://localhost:3000/{{ list.picture }}" >
          </mat-card-title-group>
        </mat-card-header>
        <mat-card-content>
          <ng-container *ngIf="list.product_id; else noProduct">
            <p>Produit: {{ existingProducts[list.product_id]?.name }}</p>
            <p>Calories: {{ existingProducts[list.product_id]?.calories }} cal</p>
          </ng-container>
          <ng-template #noProduct>
            <p>Vous n'avez pas encore ajouté de produit à ce repas.</p>
          </ng-template>
        </mat-card-content>
        
        <mat-card-footer>
          <mat-card-actions>
            <button mat-button color="primary" [routerLink]="['/modify-list', list.id]">Modifier</button>
            <button mat-button color="warn" (click)="onDeleteList(list.id)">Supprimer</button>
          </mat-card-actions>
        </mat-card-footer>
      </mat-card>
    </div>
  </div>
</div>

